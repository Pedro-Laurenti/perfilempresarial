import{p as a,r as y,j as l,Y as A}from"./index-DiYNvgGO.js";function w(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function R(e,r){for(var o=0;o<r.length;o++){var n=r[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function P(e,r,o){return r&&R(e.prototype,r),e}function O(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&S(e,r)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},g(e)}function S(e,r){return S=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n},S(e,r)}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function N(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,r){return r&&(typeof r=="object"||typeof r=="function")?r:N(e)}function j(e){var r=I();return function(){var n=g(e),t;if(r){var s=g(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return z(this,t)}}function $(e){return H(e)||U(e)||L(e)||W()}function H(e){if(Array.isArray(e))return x(e)}function U(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function L(e,r){if(e){if(typeof e=="string")return x(e,r);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return x(e,r)}}function x(e,r){(r==null||r>e.length)&&(r=e.length);for(var o=0,n=new Array(r);o<r;o++)n[o]=e[o];return n}function W(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,o=String(e);if(r===0)return o;var n=o.match(/(.*?)([0-9]+)(.*)/),t=n?n[1]:"",s=n?n[3]:"",i=n?n[2]:o,u=i.length>=r?i:($(Array(r)).map(function(){return"0"}).join("")+i).slice(r*-1);return"".concat(t).concat(u).concat(s)}var _={daysInHours:!1,zeroPadTime:2};function F(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=r.now,n=o===void 0?Date.now:o,t=r.precision,s=t===void 0?0:t,i=r.controlled,u=r.offsetTime,c=u===void 0?0:u,m=r.overtime,f;typeof e=="string"?f=new Date(e).getTime():e instanceof Date?f=e.getTime():f=e,i||(f+=c);var p=i?f:f-n(),d=Math.min(20,Math.max(0,s)),v=Math.round(parseFloat(((m?p:Math.max(0,p))/1e3).toFixed(d))*1e3),h=Math.abs(v)/1e3;return{total:v,days:Math.floor(h/(3600*24)),hours:Math.floor(h/3600%24),minutes:Math.floor(h/60%60),seconds:Math.floor(h%60),milliseconds:Number((h%1*1e3).toFixed()),completed:v<=0}}function Y(e,r){var o=e.days,n=e.hours,t=e.minutes,s=e.seconds,i=Object.assign(Object.assign({},_),r),u=i.daysInHours,c=i.zeroPadTime,m=i.zeroPadDays,f=m===void 0?c:m,p=Math.min(2,c),d=u?T(n+o*24,c):T(n,p);return{days:u?"":T(o,f),hours:d,minutes:T(t,p),seconds:T(s,p)}}var C=function(e){O(o,e);var r=j(o);function o(){var n;return w(this,o),n=r.apply(this,arguments),n.state={count:n.props.count||3},n.startCountdown=function(){n.interval=window.setInterval(function(){var t=n.state.count-1;t===0?(n.stopCountdown(),n.props.onComplete&&n.props.onComplete()):n.setState(function(s){return{count:s.count-1}})},1e3)},n.stopCountdown=function(){clearInterval(n.interval)},n.addTime=function(t){n.stopCountdown(),n.setState(function(s){return{count:s.count+t}},n.startCountdown)},n}return P(o,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?y.cloneElement(this.props.children,{count:this.state.count}):null}}]),o}(y.Component);C.propTypes={count:a.number,children:a.element,onComplete:a.func};var b=function(e){O(o,e);var r=j(o);function o(n){var t;if(w(this,o),t=r.call(this,n),t.mounted=!1,t.initialTimestamp=t.calcOffsetStartTimestamp(),t.offsetStartTimestamp=t.props.autoStart?0:t.initialTimestamp,t.offsetTime=0,t.legacyMode=!1,t.legacyCountdownRef=y.createRef(),t.tick=function(){var i=t.calcTimeDelta(),u=i.completed&&!t.props.overtime?void 0:t.props.onTick;t.setTimeDeltaState(i,void 0,u)},t.start=function(){if(!t.isStarted()){var i=t.offsetStartTimestamp;t.offsetStartTimestamp=0,t.offsetTime+=i?t.calcOffsetStartTimestamp()-i:0;var u=t.calcTimeDelta();t.setTimeDeltaState(u,"STARTED",t.props.onStart),!t.props.controlled&&(!u.completed||t.props.overtime)&&(t.clearTimer(),t.interval=window.setInterval(t.tick,t.props.intervalDelay))}},t.pause=function(){t.isPaused()||(t.clearTimer(),t.offsetStartTimestamp=t.calcOffsetStartTimestamp(),t.setTimeDeltaState(t.state.timeDelta,"PAUSED",t.props.onPause))},t.stop=function(){t.isStopped()||(t.clearTimer(),t.offsetStartTimestamp=t.calcOffsetStartTimestamp(),t.offsetTime=t.offsetStartTimestamp-t.initialTimestamp,t.setTimeDeltaState(t.calcTimeDelta(),"STOPPED",t.props.onStop))},t.isStarted=function(){return t.isStatus("STARTED")},t.isPaused=function(){return t.isStatus("PAUSED")},t.isStopped=function(){return t.isStatus("STOPPED")},t.isCompleted=function(){return t.isStatus("COMPLETED")},n.date){var s=t.calcTimeDelta();t.state={timeDelta:s,status:s.completed?"COMPLETED":"STOPPED"}}else t.legacyMode=!0;return t}return P(o,[{key:"componentDidMount",value:function(){this.legacyMode||(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(t){this.legacyMode||this.props.date!==t.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){this.legacyMode||(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var t=this.props,s=t.date,i=t.now,u=t.precision,c=t.controlled,m=t.overtime;return F(s,{now:i,precision:u,controlled:c,offsetTime:this.offsetTime,overtime:m})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(t){this.legacyCountdownRef.current.addTime(t)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(t){return this.state.status===t}},{key:"setTimeDeltaState",value:function(t,s,i){var u=this;if(this.mounted){var c=t.completed&&!this.state.timeDelta.completed,m=t.completed&&s==="STARTED";c&&!this.props.overtime&&this.clearTimer();var f=function(){i&&i(u.state.timeDelta),u.props.onComplete&&(c||m)&&u.props.onComplete(t,m)};return this.setState(function(p){var d=s||p.status;return t.completed&&!u.props.overtime?d="COMPLETED":!s&&d==="COMPLETED"&&(d="STOPPED"),{timeDelta:t,status:d}},f)}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var t=this.props,s=t.daysInHours,i=t.zeroPadTime,u=t.zeroPadDays,c=this.state.timeDelta;return Object.assign(Object.assign({},c),{api:this.getApi(),props:this.props,formatted:Y(c,{daysInHours:s,zeroPadTime:i,zeroPadDays:u})})}},{key:"render",value:function(){if(this.legacyMode){var t=this.props,s=t.count,i=t.children,u=t.onComplete;return y.createElement(C,{ref:this.legacyCountdownRef,count:s,onComplete:u},i)}var c=this.props,m=c.className,f=c.overtime,p=c.children,d=c.renderer,v=this.getRenderProps();if(d)return d(v);if(p&&this.state.timeDelta.completed&&!f)return y.cloneElement(p,{countdown:v});var h=v.formatted,D=h.days,M=h.hours,E=h.minutes,k=h.seconds;return y.createElement("span",{className:m},v.total<0?"-":"",D,D?":":"",M,":",E,":",k)}}]),o}(y.Component);b.defaultProps=Object.assign(Object.assign({},_),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0});b.propTypes={date:a.oneOfType([a.instanceOf(Date),a.string,a.number]),daysInHours:a.bool,zeroPadTime:a.number,zeroPadDays:a.number,controlled:a.bool,intervalDelay:a.number,precision:a.number,autoStart:a.bool,overtime:a.bool,className:a.string,children:a.element,renderer:a.func,now:a.func,onMount:a.func,onStart:a.func,onPause:a.func,onStop:a.func,onTick:a.func,onComplete:a.func};const V=()=>l.jsx("span",{children:l.jsx(A,{})}),q=({days:e,hours:r,minutes:o,seconds:n,completed:t})=>t?l.jsx(V,{}):l.jsxs("section",{className:"w-full flex flex-row justify-center font-mono font-thin text-5xl gap-1 md:gap-5",children:[l.jsxs("div",{className:"px-5 md:px-10 py-10 md:py-20 w-full max-w-60 bg-sky-500/50 border border-white flex flex-col text-center rounded-lg",children:[l.jsx("div",{children:e}),l.jsx("div",{className:" text-xl font-sans font-light",children:"Dias"})]}),l.jsxs("div",{className:"px-5 md:px-10 py-10 md:py-20 w-full max-w-60 bg-sky-500/50 border border-white flex flex-col text-center rounded-lg",children:[l.jsx("div",{children:r}),l.jsx("div",{className:"text-xl font-sans font-light",children:"Horas"})]}),l.jsxs("div",{className:"px-5 md:px-10 py-10 md:py-20 w-full max-w-60 bg-sky-500/50 border border-white flex flex-col text-center rounded-lg",children:[l.jsx("div",{children:o}),l.jsx("div",{className:" text-xl font-sans font-light",children:"Min"})]}),l.jsxs("div",{className:"px-5 md:px-10 py-10 md:py-20 w-full max-w-60 bg-sky-500/50 border border-white flex flex-col text-center rounded-lg",children:[l.jsx("div",{children:n}),l.jsx("div",{className:" text-xl font-sans font-light",children:"Seg"})]})]}),G=()=>{const e=new Date("2024-06-17T13:00:00");return l.jsx(b,{date:e,renderer:q})};export{G as default};
